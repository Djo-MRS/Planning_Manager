(function(){"use strict";var e={4120:function(e,t,a){var s=a(5130),o=a(6768);function n(e,t,a,s,n,r){const i=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(i)])}a(4114);var r={name:"App",computed:{isAuthenticated(){return!!localStorage.getItem("userId")}},methods:{logout(){localStorage.removeItem("xsrfToken"),localStorage.removeItem("userId"),localStorage.removeItem("roleId"),this.$router.push("/sign_in")}}},i=a(1241);const l=(0,i.A)(r,[["render",n]]);var d=l,c=a(1387);const u={class:"container-grid"},m={class:"main-content"},p={class:"right-bar"};function h(e,t,a,s,n,r){const i=(0,o.g2)("WorkingTimeComponent"),l=(0,o.g2)("RightBarComponent"),d=(0,o.g2)("AlerteBatmanComponent"),c=(0,o.g2)("NavBarComponent");return(0,o.uX)(),(0,o.CE)("div",u,[(0,o.Lk)("div",m,[(0,o.bF)(i)]),(0,o.Lk)("section",p,[(0,o.bF)(l)]),(0,o.bF)(d,{ref:"alerte"},null,512),(0,o.bF)(c)])}const g={key:0,class:"alert"};function f(e,t,a,s,n,r){return n.alertVisible?((0,o.uX)(),(0,o.CE)("div",g," BATMAN EST EN MISSION !!! ")):(0,o.Q3)("",!0)}var k={name:"AlerteBatmanComponent",data(){return{alertVisible:!1}},methods:{showAlert(){this.alertVisible=!0,setTimeout((()=>{this.alertVisible=!1}),3e3)},getStatus(){return this.alertVisible}}};const b=(0,i.A)(k,[["render",f]]);var v=b;const C={class:"box-group"};function w(e,t,a,s,n,r){const i=(0,o.g2)("MDBBtn"),l=(0,o.g2)("MDBBtnGroup");return(0,o.uX)(),(0,o.CE)("div",C,[(0,o.bF)(l,{class:"button-group rounded-pill"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{color:"light",onClick:t[0]||(t[0]=e=>r.goToPage("/home"))},{default:(0,o.k6)((()=>t[3]||(t[3]=[(0,o.Lk)("i",{class:"fas fa-home-alt icon"},null,-1)]))),_:1}),r.isManagerOrAdmin?((0,o.uX)(),(0,o.Wv)(i,{key:0,color:"light",onClick:t[1]||(t[1]=e=>r.goToPage("/dashboard"))},{default:(0,o.k6)((()=>t[4]||(t[4]=[(0,o.Lk)("i",{class:"fas fa-users-cog icon"},null,-1)]))),_:1})):(0,o.Q3)("",!0),(0,o.bF)(i,{color:"light",onClick:t[2]||(t[2]=e=>r.goToPage("/request"))},{default:(0,o.k6)((()=>t[5]||(t[5]=[(0,o.Lk)("i",{class:"fas fa-envelope icon"},null,-1)]))),_:1})])),_:1})])}var y=a(5846),L={name:"NavBarComponent",components:{MDBBtnGroup:y.nv,MDBBtn:y.al},computed:{isManagerOrAdmin(){const e=JSON.parse(localStorage.getItem("user")).role;return"manager"===e||"admin"===e}},methods:{goToPage(e){this.$router.push(e)}},data(){return{collapse2:!1}}};const T=(0,i.A)(L,[["render",w]]);var D=T;const M={class:"column"},S={class:"top-column"},E={class:"center-button"},F={key:0,class:"alert"};function B(e,t,a,s,n,r){const i=(0,o.g2)("MDBIcon"),l=(0,o.g2)("MDBBtn");return(0,o.uX)(),(0,o.CE)("div",M,[(0,o.Lk)("div",S,[(0,o.bF)(l,{color:"light",floating:"",class:"profile-button",onClick:t[0]||(t[0]=e=>r.goToPage("/profile"))},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:"user",style:{"font-size":"25px"}})])),_:1}),(0,o.bF)(l,{color:"light",floating:"",class:"notif-button",onClick:t[1]||(t[1]=e=>r.goToPage("/notif"))},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:"bell",style:{"font-size":"18px"}})])),_:1}),n.isAdmin?((0,o.uX)(),(0,o.Wv)(l,{key:0,color:"light",floating:"",class:"notif-button",onClick:r.goToSignup},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:"user-cog",style:{"font-size":"18px"}})])),_:1},8,["onClick"])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",E,[(0,o.bF)(l,{color:"light",floating:"",class:"notif-button",onClick:r.triggerAlert},{default:(0,o.k6)((()=>t[3]||(t[3]=[(0,o.Lk)("i",{class:"fab fa-earlybirds",style:{"font-size":"40px"}},null,-1)]))),_:1},8,["onClick"])]),(0,o.bF)(l,{color:"light",floating:"",class:"notif-button",onClick:t[2]||(t[2]=e=>r.goToPage("/help"))},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:"question",style:{"font-size":"18px"}})])),_:1}),(0,o.bF)(l,{color:"light",floating:"",class:"notif-button",onClick:r.goToLogout},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:"sign-out-alt",style:{"font-size":"18px"}})])),_:1},8,["onClick"]),n.alertVisible?((0,o.uX)(),(0,o.CE)("div",F," BATMAN EST EN MISSION !!! ")):(0,o.Q3)("",!0)])}var _={name:"RightBarComponent",components:{MDBBtn:y.al,MDBIcon:y.$u},data(){return{alertVisible:!1,isAdmin:!1}},mounted(){"admin"===JSON.parse(localStorage.getItem("user")).role?this.isAdmin=!0:this.isAdmin=!1},methods:{goToSignup(){this.$router.push("/sign_up")},goToPage(e){this.$router.push(e)},triggerAlert(){this.$refs.alerte.showAlert()},goToLogout(){localStorage.clear(),this.$router.push("/sign_in")},async sendNotification(){const e=this.getUserRole();if("Manager"===e||"Admin"===e)try{const e=await fetch("/api/notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({notification:{title:"Mission Alert",message:"Batman est en mission !!!",date:(new Date).toISOString(),sender:"System",receiver:"User"}})});if(!e.ok)throw new Error("Erreur lors de l'ajout de la notification");const t=await e.json();console.log(t)}catch(t){console.error(t)}else alert("Vous n'avez pas les autorisations nécessaires.")},getUserRole(){return"Manager"}}};const I=(0,i.A)(_,[["render",B]]);var A=I;function U(e,t,a,s,n,r){const i=(0,o.g2)("ClockingComponent"),l=(0,o.g2)("MDBCol"),d=(0,o.g2)("CalendarComponent"),c=(0,o.g2)("MDBRow");return(0,o.uX)(),(0,o.Wv)(c,null,{default:(0,o.k6)((()=>[(0,o.bF)(l,{md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(i)])),_:1}),(0,o.bF)(l,{md:"8"},{default:(0,o.k6)((()=>[(0,o.bF)(d)])),_:1})])),_:1})}const O={key:0,class:"modal-overlay"},x={class:"modal-content"},V={class:"modal-actions"};function X(e,t,a,n,r,i){const l=(0,o.g2)("FullCalendar"),d=(0,o.g2)("MDBButton");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(l,{ref:"fullCalendar",options:r.calendarOptions},null,8,["options"]),r.showModal?((0,o.uX)(),(0,o.CE)("div",O,[(0,o.Lk)("div",x,[t[4]||(t[4]=(0,o.Lk)("h3",null,"Modifier Working Time",-1)),t[5]||(t[5]=(0,o.Lk)("label",{for:"start-date"},"Date de début :",-1)),(0,o.bo)((0,o.Lk)("input",{type:"datetime-local","onUpdate:modelValue":t[0]||(t[0]=e=>r.editedEvent.start=e)},null,512),[[s.Jo,r.editedEvent.start]]),t[6]||(t[6]=(0,o.Lk)("label",{for:"end-date"},"Date de fin :",-1)),(0,o.bo)((0,o.Lk)("input",{type:"datetime-local","onUpdate:modelValue":t[1]||(t[1]=e=>r.editedEvent.end=e)},null,512),[[s.Jo,r.editedEvent.end]]),(0,o.Lk)("div",V,[(0,o.bF)(d,{onClick:i.saveChanges},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.eW)("Enregistrer")]))),_:1},8,["onClick"]),(0,o.bF)(d,{onClick:i.closeModal},{default:(0,o.k6)((()=>t[3]||(t[3]=[(0,o.eW)("Annuler")]))),_:1},8,["onClick"])])])])):(0,o.Q3)("",!0)])}var N=a(3535),R=a(2447),j=a(5753),P={name:"CalendarComponent",components:{FullCalendar:N.A},data(){return{showModal:!1,editedEvent:{id:null,start:"",end:""},workingTimes:[],calendarOptions:{plugins:[R.A,j.A],initialView:"timeGridWeek",events:[],eventClick:this.handleEventClick}}},mounted(){this.getWorkingTimes(),this.adjustForMobile(),window.addEventListener("resize",this.adjustForMobile)},beforeUnmount(){window.removeEventListener("resize",this.adjustForMobile)},methods:{async getWorkingTimes(){const e=document.cookie.split("c-xsrf-token=")[1]?.split(";")[0],t=localStorage.getItem("token");try{const a=JSON.parse(localStorage.getItem("user")).id,s=await fetch("/api/workingtime/"+a,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"X-CSRF-Token":e},credentials:"include"}),o=await s.json();this.workingTimes=[];for(let e=0;e<o.data.length;e++)this.workingTimes.push({id:o.data[e].id,title:"Working time",start:o.data[e].start,end:o.data[e].end});this.calendarOptions={...this.calendarOptions,events:[...this.workingTimes]},console.log(this.workingTimes)}catch(a){console.error("Error fetching working times: ",a)}},handleEventClick(e){this.editedEvent={id:e.event.id,start:`${e.event.start.getFullYear()}-${(e.event.start.getMonth()+1).toString().padStart(2,0)}-${e.event.start.getDate().toString().padStart(2,0)}T${e.event.start.getHours().toString().padStart(2,0)}:${e.event.start.getMinutes().toString().padStart(2,0)}`,end:`${e.event.end.getFullYear()}-${(e.event.end.getMonth()+1).toString().padStart(2,0)}-${e.event.end.getDate().toString().padStart(2,0)}T${e.event.end.getHours().toString().padStart(2,0)}:${e.event.end.getMinutes().toString().padStart(2,0)}`},this.showModal=!0},async saveChanges(){const e=document.cookie.split("c-xsrf-token=")[1]?.split(";")[0],t=localStorage.getItem("token");try{const a=await fetch(`/api/workingtime/${this.editedEvent.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"X-CSRF-Token":e},credentials:"include",body:JSON.stringify({workingtime:{start:new Date(this.editedEvent.start).toISOString(),end:new Date(this.editedEvent.end).toISOString()}})});if(a.ok){const e=this.workingTimes.find((e=>e.id===this.editedEvent.id));e&&(e.start=this.editedEvent.start,e.end=this.editedEvent.end),this.closeModal(),this.calendarOptions.events=[...this.workingTimes]}else console.error("Erreur lors de la mise à jour de l'événement")}catch(a){console.error("Erreur lors de la requête : ",a)}},closeModal(){this.showModal=!1},adjustForMobile(){const e=window.innerWidth<=768,t=this.$refs.fullCalendar.getApi();if(e){const e=new Date;t.changeView("timeGridDay"),t.gotoDate(e)}else t.changeView("timeGridWeek")}}};const $=(0,i.A)(P,[["render",X]]);var q=$,W=a(4232);const J={class:"clocking p-6 max-w-lg mx-auto bg-white rounded-xl shadow-md space-y-4"},z={class:"mb-4"},K={for:"userSelect",class:"block text-sm font-medium text-gray-700 mb-2"},Q={key:0,class:"mt-4"},H={class:"text-xl font-bold text-center text-gray-700 mb-4"},G={class:"flex justify-center mb-4"},Y={class:"flex justify-between px-4"},Z={class:"text-md font-medium text-gray-700"},ee={class:"text-md font-medium text-gray-700"};function te(e,t,a,s,n,r){return(0,o.uX)(),(0,o.CE)("div",J,[(0,o.Lk)("div",z,[(0,o.Lk)("label",K,(0,W.v_)(n.user.firstname+" "+n.user.lastname),1)]),n.user.id?((0,o.uX)(),(0,o.CE)("div",Q,[(0,o.Lk)("h3",H,(0,W.v_)(n.currentDateTime),1),(0,o.Lk)("div",G,[n.status?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:t[1]||(t[1]=(...e)=>r.clockOut&&r.clockOut(...e)),class:"btn btn-primary"}," Badger en sortie ")):((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>r.clockInUser&&r.clockInUser(...e)),class:"btn btn-primary"}," Badger en entrée "))]),(0,o.Lk)("div",Y,[(0,o.Lk)("p",Z,[t[2]||(t[2]=(0,o.eW)(" Commencé à : ")),(0,o.Lk)("span",null,(0,W.v_)(n.formattedStartTime||"--"),1)]),(0,o.Lk)("p",ee,[t[3]||(t[3]=(0,o.eW)(" Fini à : ")),(0,o.Lk)("span",null,(0,W.v_)(n.formattedEndTime||"--"),1)])])])):(0,o.Q3)("",!0)])}var ae={name:"ClockingComponent",data(){return{user:{},status:!1,startDateTime:null,formattedStartDateTime:"",formattedStartTime:"",formattedEndTime:"",errorMessage:"",lastAction:null,currentDateTime:(new Date).toLocaleString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}},mounted(){this.user=JSON.parse(localStorage.getItem("user")),console.log(document.cookie),this.updateCurrentDateTime(),this.user.id&&this.fetchClockStatus()},methods:{async fetchClockStatus(){this.errorMessage="";const e=document.cookie.split("c-xsrf-token=")[1]?.split(";")[0],t=localStorage.getItem("token");try{const a=await fetch(`/api/clocks/${this.user.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"X-CSRF-Token":e},credentials:"include"});if(!a.ok){if(404===a.status)return this.status=!1,this.lastAction=null,this.startDateTime=null,this.formattedStartDateTime="",void(this.formattedEndTime="");throw new Error("Erreur lors de la récupération de l'état de pointage")}const s=await a.json(),o=s.data;if(Array.isArray(o)&&o.length>0){const e=o.sort(((e,t)=>new Date(t.time)-new Date(e.time)))[0];e?(this.status=e.status,this.startDateTime=e.time,this.formattedStartDateTime=new Date(this.startDateTime).toLocaleString("fr-FR"),this.formattedStartTime=new Date(this.startDateTime).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),this.formattedEndTime=e.status?"":new Date(e.time).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),this.lastAction=e.status?"status":"clockOut"):(this.status=!1,this.lastAction=null)}else this.status=!1,this.lastAction=null,this.startDateTime=null,this.formattedStartDateTime="",this.formattedEndTime=""}catch(a){console.error("Erreur lors de la récupération de l'état de pointage",a),this.errorMessage=`Erreur : ${a.message}`}},async clockInUser(){const e=document.cookie.split("c-xsrf-token=")[1]?.split(";")[0];try{const t=await fetch(`/api/clocks/${this.user.id}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token"),"X-CSRF-Token":e},credentials:"include",body:JSON.stringify({clock:{status:!0,time:(new Date).toISOString()}})});if(!t.ok)throw new Error("Erreur lors du pointage");await t.json(),this.status=!0,this.startDateTime=(new Date).toISOString(),this.formattedStartDateTime=(new Date).toLocaleString("fr-FR"),this.formattedStartTime=(new Date).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),this.lastAction="status",this.errorMessage=""}catch(t){this.errorMessage=`Erreur : ${t.message}`}},async clockOut(){const e=document.cookie.split("c-xsrf-token=")[1]?.split(";")[0];try{const t=await fetch(`/api/clocks/${this.user.id}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token"),"X-CSRF-Token":e},credentials:"include",body:JSON.stringify({clock:{status:!1,time:(new Date).toISOString()}})});if(!t.ok)throw new Error("Erreur lors du dépointage");await t.json(),this.status=!1,this.lastAction="clockOut",this.formattedEndTime=(new Date).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),this.errorMessage="",await this.sendWorkingTime()}catch(t){this.errorMessage=`Erreur : ${t.message}`}},async sendWorkingTime(){const e=document.cookie.split("c-xsrf-token=")[1]?.split(";")[0],t=localStorage.getItem("token");try{const a=new Date(this.startDateTime).toISOString(),s=(new Date).toISOString(),o=await fetch(`/api/workingtime/${this.user.id}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"X-CSRF-Token":e},credentials:"include",body:JSON.stringify({workingtime:{start:a,end:s}})});if(!o.ok)throw new Error("Erreur lors de l'envoi des données de temps de travail");this.errorMessage=""}catch(a){this.errorMessage=`Erreur lors de l'envoi des données de temps de travail : ${a.message}`}},updateCurrentDateTime(){setInterval((()=>{this.currentDateTime=(new Date).toLocaleString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),1e3)},refresh(){this.user.id&&this.fetchClockStatus()}}};const se=(0,i.A)(ae,[["render",te],["__scopeId","data-v-062304b7"]]);var oe=se,ne={name:"WorkingTimeComponent",components:{CalendarComponent:q,ClockingComponent:oe,MDBRow:y.gU,MDBCol:y.m6}};const re=(0,i.A)(ne,[["render",U]]);var ie=re,le={name:"HomeView",components:{WorkingTimeComponent:ie,RightBarComponent:A,NavBarComponent:D,AlerteBatmanComponent:v}};const de=(0,i.A)(le,[["render",h]]);var ce=de;const ue={class:"container-grid"},me={class:"main-content"},pe={class:"right-bar"};function he(e,t,a,s,n,r){const i=(0,o.g2)("ProfileComponent"),l=(0,o.g2)("RightBarComponent"),d=(0,o.g2)("NavBarComponent");return(0,o.uX)(),(0,o.CE)("div",ue,[(0,o.Lk)("div",me,[(0,o.bF)(i)]),(0,o.Lk)("section",pe,[(0,o.bF)(l)]),(0,o.bF)(d)])}const ge={class:"profile-view"},fe={class:"profile-container"},ke={class:"profile-content"},be={class:"profile-info"},ve={class:"profile-details"},Ce={class:"profile-row"},we={class:"profile-row"},ye={class:"profile-row"},Le={class:"profile-row"},Te=["value"],De={class:"profile-row"};function Me(e,t,a,n,r,i){const l=(0,o.g2)("MDBInput"),d=(0,o.g2)("MDBBtn");return(0,o.uX)(),(0,o.CE)("main",ge,[(0,o.Lk)("div",fe,[(0,o.Lk)("div",ke,[(0,o.Lk)("section",be,[(0,o.Lk)("div",ve,[t[12]||(t[12]=(0,o.Lk)("h1",{class:"profile-title"},"Profil",-1)),(0,o.Lk)("div",Ce,[t[5]||(t[5]=(0,o.Lk)("div",{class:"profile-item"},[(0,o.Lk)("img",{loading:"lazy",src:"https://cdn.builder.io/api/v1/image/assets/TEMP/1c18f04fefcdc9abdde53c4a5f1ff174e3d175ee995e3d195cd1dec4099be056?placeholderIfAbsent=true&apiKey=1dd5640dff5747c98816899eb6d392e1",class:"profile-icon",alt:"Name icon"})],-1)),(0,o.bF)(l,{label:"Nom",modelValue:r.user.lastname,"onUpdate:modelValue":t[0]||(t[0]=e=>r.user.lastname=e)},null,8,["modelValue"])]),(0,o.Lk)("div",we,[t[6]||(t[6]=(0,o.Lk)("div",{class:"profile-item"},[(0,o.Lk)("img",{loading:"lazy",src:"https://cdn.builder.io/api/v1/image/assets/TEMP/cc7ee409e90ba28d158a4c93a4327b6b2207a5e96fc2101271539f8895a65072?placeholderIfAbsent=true&apiKey=1dd5640dff5747c98816899eb6d392e1",class:"profile-icon",alt:"Surname icon"})],-1)),(0,o.bF)(l,{label:"Prénom",modelValue:r.user.firstname,"onUpdate:modelValue":t[1]||(t[1]=e=>r.user.firstname=e)},null,8,["modelValue"])]),(0,o.Lk)("div",ye,[t[7]||(t[7]=(0,o.Lk)("div",{class:"profile-item"},[(0,o.Lk)("img",{loading:"lazy",src:"https://cdn.builder.io/api/v1/image/assets/TEMP/509e27464df901bf921875bbb026e12ecb4955a30bf6190581e8848bf143b858?placeholderIfAbsent=true&apiKey=1dd5640dff5747c98816899eb6d392e1",class:"profile-icon",alt:"Mail icon"})],-1)),(0,o.bF)(l,{label:"Email",type:"email",modelValue:r.user.email,"onUpdate:modelValue":t[2]||(t[2]=e=>r.user.email=e)},null,8,["modelValue"])]),(0,o.Lk)("div",Le,[t[9]||(t[9]=(0,o.Lk)("div",{class:"profile-item"},[(0,o.Lk)("img",{loading:"lazy",src:"https://cdn.builder.io/api/v1/image/assets/TEMP/4bd16cbc188756c619de2382066dab461ca564bcfc1128a74560cc8c9ffc8db0?placeholderIfAbsent=true&apiKey=1dd5640dff5747c98816899eb6d392e1",class:"profile-icon",alt:"Service icon"})],-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.user.role=e)},[t[8]||(t[8]=(0,o.Lk)("option",{value:"",disabled:""},"Choisir un rôle",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.roles,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id,value:e.id},(0,W.v_)(e.name),9,Te)))),128))],512),[[s.u1,r.user.role]])]),(0,o.Lk)("div",De,[t[10]||(t[10]=(0,o.Lk)("div",{class:"profile-item"},[(0,o.Lk)("img",{loading:"lazy",src:"https://cdn.builder.io/api/v1/image/assets/TEMP/6aba804eaa1d8545a85a24c33aef6da56670f1863f755108481ef2d0a86bd07a?placeholderIfAbsent=true&apiKey=1dd5640dff5747c98816899eb6d392e1",class:"profile-icon",alt:"Manager icon"})],-1)),(0,o.bF)(l,{type:"text",label:"Manager",modelValue:r.user.manager,"onUpdate:modelValue":t[4]||(t[4]=e=>r.user.manager=e)},null,8,["modelValue"])]),(0,o.bF)(d,{color:"primary",onClick:i.updateUser},{default:(0,o.k6)((()=>t[11]||(t[11]=[(0,o.eW)("Mettre à jour")]))),_:1},8,["onClick"])])])])])])}var Se={components:{MDBInput:y.gk,MDBBtn:y.al},data(){return{user:{},roles:[{id:1,name:"Admin"},{id:2,name:"Manager"},{id:3,name:"Employée"}]}},mounted(){this.user=JSON.parse(localStorage.getItem("user"))},methods:{async updateUser(){let e=prompt("Write your password to confirm changes");if(null===e)return;const t=await fetch("/api/users/"+this.user.id,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token"),"X-CSRF-Token":document.cookie.split("c-xsrf-token=")[1]?.split(";")[0]},credentials:"include",body:JSON.stringify({user:{lastname:this.user.lastname,firstname:this.user.firstname,email:this.user.email,password:e,role_id:this.user.role.id}})});t.ok?(localStorage.removeItem("user"),this.user=(await t.json()).data,localStorage.setItem("user",JSON.stringify(this.user))):(console.error("Error updating user:",t.statusText),alert("Error updating user. Please try again."))}}};const Ee=(0,i.A)(Se,[["render",Me],["__scopeId","data-v-0ab0cbe5"]]);var Fe=Ee,Be={name:"ProfileView",components:{ProfileComponent:Fe,NavBarComponent:D,RightBarComponent:A}};const _e=(0,i.A)(Be,[["render",he]]);var Ie=_e;const Ae={class:"container-grid"},Ue={class:"main-content"},Oe={class:"right-bar"};function xe(e,t,a,s,n,r){const i=(0,o.g2)("HelpComponent"),l=(0,o.g2)("RightBarComponent"),d=(0,o.g2)("NavBarComponent");return(0,o.uX)(),(0,o.CE)("div",Ae,[(0,o.Lk)("div",Ue,[(0,o.bF)(i)]),(0,o.Lk)("section",Oe,[(0,o.bF)(l)]),(0,o.bF)(d)])}const Ve={class:"help-view"};function Xe(e,t){return(0,o.uX)(),(0,o.CE)("section",Ve,t[0]||(t[0]=[(0,o.Fv)('<div class="help-container" data-v-3b0b72b9><h1 class="help-title" data-v-3b0b72b9>FAQ</h1><form class="help-form" data-v-3b0b72b9><div class="question-answer-group" data-v-3b0b72b9><div class="input-group" data-v-3b0b72b9><label for="question1" class="input-label" data-v-3b0b72b9>Q1: How to use?</label></div><div class="input-group" data-v-3b0b72b9><label for="answer1" class="input-label" data-v-3b0b72b9>A1: Click submit.</label></div></div><div class="question-answer-group" data-v-3b0b72b9><div class="input-group" data-v-3b0b72b9><label for="question2" class="input-label" data-v-3b0b72b9>Q2: ...</label></div><div class="input-group" data-v-3b0b72b9><label for="answer2" class="input-label" data-v-3b0b72b9>A2: ...</label></div></div><div class="input-group" data-v-3b0b72b9><label for="userQuestion" class="input-label" data-v-3b0b72b9>Your question:</label><input id="userQuestion" type="text" class="input-field" placeholder="Type here..." data-v-3b0b72b9></div><div class="input-group" data-v-3b0b72b9><label for="userEmail" class="input-label" data-v-3b0b72b9>Your email:</label><input id="userEmail" type="email" class="input-field" placeholder="example@email.com" data-v-3b0b72b9></div><button type="submit" class="submit-button" data-v-3b0b72b9> Submit <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/240f63fefbf307ccbc5e2b7d3d61746bad14850499abc5aa060cd2f1b2e1fce5?placeholderIfAbsent=true&amp;apiKey=1dd5640dff5747c98816899eb6d392e1" alt="" class="submit-icon" data-v-3b0b72b9></button></form></div>',1)]))}const Ne={},Re=(0,i.A)(Ne,[["render",Xe],["__scopeId","data-v-3b0b72b9"]]);var je=Re,Pe={name:"HelpView",components:{HelpComponent:je,NavBarComponent:D,RightBarComponent:A}};const $e=(0,i.A)(Pe,[["render",xe]]);var qe=$e;const We={class:"container-grid"},Je={class:"main-content"},ze={class:"right-bar"};function Ke(e,t,a,s,n,r){const i=(0,o.g2)("ManagerComponent"),l=(0,o.g2)("CalendarComponent"),d=(0,o.g2)("RightBarComponent"),c=(0,o.g2)("NavBarComponent");return(0,o.uX)(),(0,o.CE)("div",We,[(0,o.Lk)("div",Je,[(0,o.bF)(i),t[0]||(t[0]=(0,o.Lk)("h2",null,"Planning des employés",-1)),(0,o.bF)(l)]),(0,o.Lk)("section",ze,[(0,o.bF)(d)]),(0,o.bF)(c)])}const Qe={class:"profile-view"};function He(e,t,a,s,n,r){const i=(0,o.g2)("ManagerCalendarComponent");return(0,o.uX)(),(0,o.CE)("main",Qe,[t[0]||(t[0]=(0,o.Fv)('<div class="profile-container" data-v-4f703371><div class="profile-content" data-v-4f703371><section class="profile-info" data-v-4f703371><div class="profile-details" data-v-4f703371><h1 class="profile-title" data-v-4f703371>Management</h1><div data-v-4f703371></div></div></section></div></div>',1)),(0,o.bF)(i)])}const Ge={class:""},Ye={class:"buttons"},Ze={class:"calendar"},et={class:"header"},tt={class:"week-title"},at={class:"tab"},st={class:"tab-col-users"},ot={class:"users-col"},nt=["value"],rt={class:"tab-col-week"},it={class:"days"},lt={class:"calendar-table"},dt={class:"users"},ct={class:"event-cells"},ut={class:"event-part upper-part"};function mt(e,t,a,n,r,i){const l=(0,o.g2)("MDBBtn"),d=(0,o.g2)("ManagerModalComponent"),c=(0,o.g2)("TaskItemComponent");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",Ge,[(0,o.Lk)("div",Ye,[(0,o.bF)(l,{color:"info",class:"add-task-button",onClick:i.openModal},{default:(0,o.k6)((()=>t[5]||(t[5]=[(0,o.eW)("Ajouter une tâche")]))),_:1},8,["onClick"]),(0,o.bF)(l,{color:"warning",class:"add-task-button",onClick:t[0]||(t[0]=e=>i.goToPage("/teams"))},{default:(0,o.k6)((()=>t[6]||(t[6]=[(0,o.eW)("Planning des équipes")]))),_:1})]),(0,o.bF)(d,{showModal:r.isModalOpen,currentDate:r.currentDate,users:r.users,from:r.add,onCloseModal:i.closeModal},null,8,["showModal","currentDate","users","from","onCloseModal"])]),(0,o.Lk)("div",Ze,[(0,o.Lk)("div",et,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.prevWeek&&i.prevWeek(...e)),class:"arrow-button"},"←"),(0,o.Lk)("h2",tt,(0,W.v_)(i.weekTitle),1),(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.nextWeek&&i.nextWeek(...e)),class:"arrow-button"},"→")]),(0,o.Lk)("div",at,[(0,o.Lk)("div",st,[(0,o.Lk)("div",ot,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.selectedTeam=e),onChange:t[4]||(t[4]=(...e)=>i.selectTeam&&i.selectTeam(...e))},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.teamsManager,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id,value:e.teamName},(0,W.v_)(e.teamName),9,nt)))),128))],544),[[s.u1,r.selectedTeam]]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.users,(e=>((0,o.uX)(),(0,o.CE)("div",{class:"users-cell",key:e.firstname},[t[7]||(t[7]=(0,o.Lk)("div",{class:"image-profile"},null,-1)),(0,o.eW)(" "+(0,W.v_)(e.firstname),1)])))),128))])]),(0,o.Lk)("div",rt,[(0,o.Lk)("div",it,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.weekDays,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{class:"day-cell",key:t},(0,W.v_)(i.formatDate(e)),1)))),128))]),(0,o.Lk)("div",lt,[(0,o.Lk)("div",dt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.users,((e,a)=>((0,o.uX)(),(0,o.CE)("div",{key:a,class:"user-row"},[(0,o.Lk)("div",ct,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.weekDays,((a,s)=>((0,o.uX)(),(0,o.CE)("div",{key:s,class:"event-cell"},[(0,o.Lk)("div",ut,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.getTasksForDay(a,e),(t=>((0,o.uX)(),(0,o.Wv)(c,{key:t.start,task:t,type:r.wt,current_user:e},null,8,["task","type","current_user"])))),128))]),t[8]||(t[8]=(0,o.Lk)("div",{class:"event-part lower-part"},null,-1))])))),128))])])))),128))])])])])])],64)}function pt(e,t,a,s,n,r){const i=(0,o.g2)("ManagerModalComponent");return(0,o.uX)(),(0,o.CE)("div",{class:"task-cell",onClick:t[0]||(t[0]=(...e)=>r.handleClick&&r.handleClick(...e))},[(0,o.bF)(i,{showModal:n.isModifyModalOpen,currentDate:n.currentDate,task:a.task,users:n.users,from:n.modify,current_user:a.current_user,onClose:r.closeModifyModal},null,8,["showModal","currentDate","task","users","from","current_user","onClose"])])}const ht={class:"data_row d-flex"},gt={key:0},ft={key:1},kt=["value"];function bt(e,t,a,n,r,i){const l=(0,o.g2)("MDBModalTitle"),d=(0,o.g2)("MDBModalHeader"),c=(0,o.g2)("MDBModalBody"),u=(0,o.g2)("MDBBtn"),m=(0,o.g2)("MDBModalFooter"),p=(0,o.g2)("MDBModal");return(0,o.uX)(),(0,o.CE)("main",null,[(0,o.bF)(p,{id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel",modelValue:r.localShowModal,"onUpdate:modelValue":t[3]||(t[3]=e=>r.localShowModal=e)},{default:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(l,{id:"exampleModalLabel"})])),_:1}),(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",ht,[t[4]||(t[4]=(0,o.Lk)("label",{for:"start"},"Début : ",-1)),(0,o.bo)((0,o.Lk)("input",{id:"start",type:"datetime-local","onUpdate:modelValue":t[0]||(t[0]=e=>r.start=e)},null,512),[[s.Jo,r.start]]),t[5]||(t[5]=(0,o.Lk)("label",{for:"end"},"Fin : ",-1)),(0,o.bo)((0,o.Lk)("input",{id:"end",type:"datetime-local","onUpdate:modelValue":t[1]||(t[1]=e=>r.end=e)},null,512),[[s.Jo,r.end]]),t[6]||(t[6]=(0,o.Lk)("label",{for:"user"},"Assigné à :",-1)),a.current_user?((0,o.uX)(),(0,o.CE)("div",gt,(0,W.v_)(a.current_user.firstname),1)):((0,o.uX)(),(0,o.CE)("div",ft,[(0,o.bo)((0,o.Lk)("select",{id:"user","onUpdate:modelValue":t[2]||(t[2]=e=>r.assignedUser=e)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.users,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id,value:e.id},(0,W.v_)(e.firstname),9,kt)))),128))],512),[[s.u1,r.assignedUser]])]))])])),_:1}),(0,o.bF)(m,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,{color:"primary",onClick:i.savingWorkingTime},{default:(0,o.k6)((()=>t[7]||(t[7]=[(0,o.eW)("Save changes")]))),_:1},8,["onClick"]),(0,o.bF)(u,{color:"secondary",onClick:i.clearAllData},{default:(0,o.k6)((()=>t[8]||(t[8]=[(0,o.eW)("Clear data")]))),_:1},8,["onClick"])])),_:1})])),_:1},8,["modelValue"])])}var vt={data(){return{start:"",end:"",method:"POST",assignedUser:"",localShowModal:this.showModal}},components:{MDBBtn:y.al,MDBModal:y.Br,MDBModalBody:y.NJ,MDBModalFooter:y.M3,MDBModalHeader:y.kE,MDBModalTitle:y.xx},props:{showModal:{type:Boolean,required:!0},currentDate:{type:Date,required:!0},task:{type:Object},current_user:{type:Object},users:{type:Array},from:{type:String,default:"",required:!0}},watch:{showModal(e){this.localShowModal=e,e||this.$emit("closeModal")}},methods:{formatDateTime(e){const t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0"),o=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0");return`${t}-${a}-${s}T${o}:${n}`},formatTime(){if(this.task&&this.task.start){const e=new Date(this.task.start),t=new Date(this.task.end);this.start=this.formatDateTime(e),this.end=this.formatDateTime(t)}else console.log("task or start date is not defined.")},clearAllData:async function(){try{await fetch(`http://localhost:4000/api/workingtime/${this.current_user.id}/${this.task.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})}catch(e){console.log("Error",e)}},defineMethod(e){"add"===e?this.method="POST":"modify"===e&&(this.method="PUT")},async savingWorkingTime(){try{await fetch(`http://localhost:4000/api/workingtime/${this.task.id}`,{method:this.method,headers:{"Content-Type":"application/json"},body:JSON.stringify({workingtime:{start:new Date(this.start),end:new Date(this.end)}})})}catch(e){console.log("Error",e)}}},mounted(){this.defineMethod(this.from),this.formatTime()}};const Ct=(0,i.A)(vt,[["render",bt]]);var wt=Ct,yt={name:"TaskItemComponent",components:{ManagerModalComponent:wt},data(){return{modify:"modify",isModifyModalOpen:!1,currentTask:null,currentDate:new Date,users:[]}},props:{type:{type:String,required:!0},task:{type:Object,required:!0},current_user:{type:Object}},methods:{handleClick(){this.currentTask=this.task,this.isModifyModalOpen=!0},closeModifyModal(){this.isModifyModalOpen=!1}}};const Lt=(0,i.A)(yt,[["render",pt]]);var Tt=Lt,Dt=a(144),Mt={data(){return{wt:"workingtime",isModalOpen:!1,teamManager:!1,currentTask:{},add:"add",tasks:[{user:"Alice",title:"Réunion de projet",start:"2024-10-25T09:00:00",end:"2024-10-25T10:00:00"},{user:"Bob",title:"Développement des fonctionnalités",start:"2024-10-24T14:00:00",end:"2024-10-24T16:00:00"}],selectedTeam:(0,Dt.KR)("Policier"),teamsManager:[{id:1,teamName:"Policier"},{id:2,teamName:"Comptabilité"},{id:3,teamName:"Commerciale"}],teamUsers:[],currentDate:(0,Dt.KR)(new Date),users:[{firstname:"Alice",profilePic:"https://via.placeholder.com/40"},{firstname:"Bob",profilePic:"https://via.placeholder.com/40"},{firstname:"Charlie",profilePic:"https://via.placeholder.com/40"},{firstname:"Angelina",profilePic:"https://via.placeholder.com/40"},{firstname:"Angelina",profilePic:"https://via.placeholder.com/40"},{firstname:"Angelina",profilePic:"https://via.placeholder.com/40"},{firstname:"Angelina",profilePic:"https://via.placeholder.com/40"},{firstname:"Angelina",profilePic:"https://via.placeholder.com/40"},{firstname:"Angelina",profilePic:"https://via.placeholder.com/40"}]}},components:{MDBBtn:y.al,TaskItemComponent:Tt,ManagerModalComponent:wt},computed:{weekTitle(){const e=this.getStartOfWeek(this.currentDate),t=new Date(e);return t.setDate(t.getDate()+6),`Semaine du ${e.toLocaleDateString()} au ${t.toLocaleDateString()}`},weekDays(){const e=[],t=this.getStartOfWeek(this.currentDate);for(let a=0;a<7;a++){const s=new Date(t);s.setDate(s.getDate()+a),e.push(s)}return e}},methods:{getStartOfWeek(e){const t=new Date(e);return t.setDate(t.getDate()-(0===t.getDay()?6:t.getDay()-1)),t},prevWeek(){this.currentDate.setDate(this.currentDate.getDate()-7)},nextWeek(){this.currentDate.setDate(this.currentDate.getDate()+7)},openModal(){this.isModalOpen=!0},closeModal(){console.log("ici"),this.isModalOpen=!1},selectTeam(){this.fetchUsersByTeam(this.selectedTeam.id)},addTasks(e){this.tasks.push(e)},handleClick(){},getTasksForDay(e,t){const a=new Date(e).toDateString();return this.tasks.filter((e=>{if(!e||!e.start)return!1;const s=new Date(e.start).toDateString();return s===a&&e.user===t.firstname}))},formatDate(e){return e.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})},goToPage(e){this.$router.push(e)},async fetchTeamsByManager(){console.log("okok");try{const e=await fetch("http://localhost:4000/api/teams/manager",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok&&404===e.status)throw new Error("Erreur lors de la récupération de l'état de pointage");const t=await e.json();this.teamUsers=t.data}catch(e){console.error("Erreur lors de la récupération de l'état de pointage",e),this.errorMessage=`Erreur : ${e.message}`}},async fetchUsersByTeam(e){console.log("okokkk");try{const t=await fetch(`http://localhost:4000/api/teams/users?teamId=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok&&404===t.status)throw new Error("Erreur lors de la récupération de l'état de pointage");const a=await t.json();this.users=a.data}catch(t){console.error("Erreur lors de la récupération de l'état de pointage",t),this.errorMessage=`Erreur : ${t.message}`}}},mounted(){console.log(this.teamsManager[0].teamName),this.selected=this.teamsManager[0].teamName}};const St=(0,i.A)(Mt,[["render",mt],["__scopeId","data-v-385c3dab"]]);var Et=St,Ft={name:"ManagerComponent",components:{ManagerCalendarComponent:Et}};const Bt=(0,i.A)(Ft,[["render",He],["__scopeId","data-v-4f703371"]]);var _t=Bt,It={name:"ManagerDashboardView",components:{ManagerComponent:_t,NavBarComponent:D,RightBarComponent:A,CalendarComponent:q},computed:{isManager(){return"manager"===localStorage.getItem("roleId")},isAdmin(){return"admin"===localStorage.getItem("roleId")}}};const At=(0,i.A)(It,[["render",Ke]]);var Ut=At;const Ot={class:"container-grid"},xt={class:"main-content"},Vt={class:"right-bar"};function Xt(e,t,a,s,n,r){const i=(0,o.g2)("TeamsComponent"),l=(0,o.g2)("RightBarComponent"),d=(0,o.g2)("NavBarComponent");return(0,o.uX)(),(0,o.CE)("div",Ot,[(0,o.Lk)("div",xt,[(0,o.bF)(i)]),(0,o.Lk)("section",Vt,[(0,o.bF)(l)]),(0,o.bF)(d)])}const Nt={class:"container-fluid p-4 bg-light"},Rt={class:"d-flex justify-content-between align-items-center mb-4"},jt={class:"row g-4"},Pt={class:"col-md-3 d-none d-md-block"},$t={class:"bg-white shadow-sm rounded p-3 overflow-auto"},qt={class:"list-group"},Wt=["onClick"],Jt={class:"col-md-9"},zt={class:"row g-4"},Kt={class:"col-md-6"},Qt={class:"card h-100 shadow-sm"},Ht={class:"card-body"},Gt={key:0,class:"mb-4"},Yt={class:"mb-3"},Zt={class:"col-md-6"},ea={class:"card h-100 shadow-sm"},ta={class:"card-body"},aa={class:"card-title mb-4"},sa={class:"table table-striped table-hover"},oa={key:0};function na(e,t,a,n,r,i){return(0,o.uX)(),(0,o.CE)("div",Nt,[(0,o.Lk)("header",Rt,[t[4]||(t[4]=(0,o.Lk)("h2",{class:"text-primary font-weight-bold"},"Gestion d'équipes",-1)),(0,o.Lk)("button",{class:"btn btn-success",onClick:t[0]||(t[0]=e=>r.showCreateForm=!0)}," + Créer une nouvelle équipe ")]),(0,o.Lk)("div",jt,[(0,o.Lk)("aside",Pt,[(0,o.Lk)("div",$t,[t[5]||(t[5]=(0,o.Lk)("h4",{class:"text-secondary mb-3"},"Liste des équipes",-1)),(0,o.Lk)("ul",qt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.teams,(e=>((0,o.uX)(),(0,o.CE)("li",{key:e.id,class:"list-group-item d-flex justify-content-between align-items-center mb-2"},[(0,o.Lk)("span",null,(0,W.v_)(e.name),1),(0,o.Lk)("button",{class:"btn btn-outline-primary btn-sm",onClick:t=>i.editTeam(e)}," Modifier ",8,Wt)])))),128))])])]),(0,o.Lk)("main",Jt,[(0,o.Lk)("div",zt,[(0,o.Lk)("section",Kt,[(0,o.Lk)("div",Qt,[(0,o.Lk)("div",Ht,[t[9]||(t[9]=(0,o.Lk)("h4",{class:"card-title text-secondary mb-3"},"Actions d'équipe",-1)),r.showCreateForm?((0,o.uX)(),(0,o.CE)("div",Gt,[t[8]||(t[8]=(0,o.Lk)("h5",null,"Créer une équipe",-1)),(0,o.Lk)("form",{onSubmit:t[3]||(t[3]=(0,s.D$)(((...e)=>i.createTeam&&i.createTeam(...e)),["prevent"]))},[(0,o.Lk)("div",Yt,[t[6]||(t[6]=(0,o.Lk)("label",{for:"name",class:"form-label"},"Nom de l'équipe",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>r.newTeam.name=e),required:""},null,512),[[s.Jo,r.newTeam.name]])]),t[7]||(t[7]=(0,o.Lk)("button",{type:"submit",class:"btn btn-success me-2"},"Créer",-1)),(0,o.Lk)("button",{class:"btn btn-outline-secondary",onClick:t[2]||(t[2]=e=>r.showCreateForm=!1)},"Annuler")],32)])):(0,o.Q3)("",!0)])])]),(0,o.Lk)("section",Zt,[(0,o.Lk)("div",ea,[(0,o.Lk)("div",ta,[(0,o.Lk)("h5",aa,"Utilisateurs dans l'équipe : "+(0,W.v_)(r.selectedTeam?r.selectedTeam.name:"Sélectionnez une équipe"),1),(0,o.Lk)("table",sa,[t[11]||(t[11]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"ID"),(0,o.Lk)("th",null,"Nom"),(0,o.Lk)("th",null,"Email"),(0,o.Lk)("th",null,"Rôle")])],-1)),(0,o.Lk)("tbody",null,[0===r.teamUsers.length?((0,o.uX)(),(0,o.CE)("tr",oa,t[10]||(t[10]=[(0,o.Lk)("td",{colspan:"4",class:"text-center"},"Aucun utilisateur dans cette équipe",-1)]))):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.teamUsers,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id},[(0,o.Lk)("td",null,(0,W.v_)(e.id),1),(0,o.Lk)("td",null,(0,W.v_)(e.firstname)+" "+(0,W.v_)(e.lastname),1),(0,o.Lk)("td",null,(0,W.v_)(e.email),1),(0,o.Lk)("td",null,(0,W.v_)(e.role.name),1)])))),128))])])])])])])])])])}var ra={data(){return{teams:[],users:[],teamUsers:[],newTeam:{name:""},selectedTeam:null,selectedUserId:null,selectedRemoveUserId:null,showCreateForm:!1}},created(){this.fetchTeams(),this.fetchUsers()},methods:{fetchTeams(){fetch("http://localhost:4000/api/teams").then((e=>e.json())).then((e=>{this.teams=e.data,this.selectedTeam=null,this.teamUsers=[]})).catch((e=>{console.error("Erreur lors de la récupération des équipes:",e)}))},fetchUsers(){fetch("http://localhost:4000/api/users").then((e=>e.json())).then((e=>{this.users=e.data})).catch((e=>{console.error("Erreur lors de la récupération des utilisateurs:",e)}))},fetchTeamUsers(e){fetch(`http://localhost:4000/api/teams/${e}/users`).then((e=>e.json())).then((e=>{this.teamUsers=e.data})).catch((e=>{console.error("Erreur lors de la récupération des utilisateurs de l'équipe:",e)}))},editTeam(e){this.selectedTeam={...e},this.fetchTeamUsers(e.id)},createTeam(){fetch("http://localhost:4000/api/teams",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({team:this.newTeam})}).then((e=>e.json())).then((e=>{this.teams.push(e.data),this.newTeam.name="",this.showCreateForm=!1})).catch((e=>{console.error("Erreur lors de la création de l'équipe:",e)}))},updateTeamNameInList(){const e=this.teams.find((e=>e.id===this.selectedTeam.id));e&&(e.name=this.selectedTeam.name)},updateTeam(){fetch(`http://localhost:4000/api/teams/${this.selectedTeam.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({team:this.selectedTeam})}).then((e=>e.json())).then((e=>{const t=this.teams.findIndex((e=>e.id===this.selectedTeam.id));-1!==t&&(this.teams[t]=e.data),this.selectedTeam=null})).catch((e=>{console.error("Erreur lors de la modification de l'équipe:",e)}))},addUserToTeam(){fetch(`http://localhost:4000/api/teams/${this.selectedTeam.id}/add_user`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:this.selectedUserId})}).then((()=>{alert("Utilisateur ajouté avec succès."),this.selectedUserId=null,this.fetchTeamUsers(this.selectedTeam.id)})).catch((e=>{console.error("Erreur lors de l'ajout de l'utilisateur à l'équipe:",e)}))},removeUserFromTeam(){fetch(`http://localhost:4000/api/teams/${this.selectedTeam.id}/remove_user`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:this.selectedRemoveUserId})}).then((()=>{alert("Utilisateur retiré avec succès."),this.selectedRemoveUserId=null,this.fetchTeamUsers(this.selectedTeam.id)})).catch((e=>{console.error("Erreur lors du retrait de l'utilisateur de l'équipe:",e)}))}}};const ia=(0,i.A)(ra,[["render",na],["__scopeId","data-v-2c8677eb"]]);var la=ia,da={name:"ManagerTeamsView",components:{TeamsComponent:la,NavBarComponent:D,RightBarComponent:A},computed:{isManager(){return"manager"===localStorage.getItem("roleId")},isAdmin(){return"admin"===localStorage.getItem("roleId")}}};const ca=(0,i.A)(da,[["render",Xt]]);var ua=ca;const ma={class:"container-grid"},pa={class:"main-content"},ha={class:"right-bar"};function ga(e,t,a,s,n,r){const i=(0,o.g2)("NotifListComponent"),l=(0,o.g2)("RightBarComponent"),d=(0,o.g2)("NavBarComponent");return(0,o.uX)(),(0,o.CE)(o.FK,null,[t[0]||(t[0]=(0,o.Lk)("h2",{class:"title"}," Notifications ",-1)),(0,o.Lk)("div",ma,[(0,o.Lk)("div",pa,[(0,o.bF)(i)]),(0,o.Lk)("section",ha,[(0,o.bF)(l)]),(0,o.bF)(d)])],64)}const fa={class:"box-list"},ka={class:"list-container"};function ba(e,t,a,s,n,r){const i=(0,o.g2)("NotifListItem");return(0,o.uX)(),(0,o.CE)("div",fa,[t[1]||(t[1]=(0,o.Lk)("div",null,"Vos notifications",-1)),(0,o.Lk)("div",ka,[(0,o.bF)(i),(0,o.bF)(i),(0,o.bF)(i),(0,o.bF)(i),(0,o.bF)(i),(0,o.bF)(i),(0,o.bF)(i),(0,o.bF)(i),t[0]||(t[0]=(0,o.Lk)("div",{style:{"border-top":"solid 1px #8d8d8d"}},null,-1))])])}const va={class:"list-item-row"},Ca={class:"list-item-circle"};function wa(e,t,a,s,n,r){const i=(0,o.g2)("MDBIcon"),l=(0,o.g2)("MDBBtn");return(0,o.uX)(),(0,o.CE)("div",va,[(0,o.Lk)("div",Ca,[(0,o.bF)(l,{color:"light",floating:"",class:"profile-button"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:"user",style:{"font-size":"25px"}})])),_:1})]),t[0]||(t[0]=(0,o.Lk)("div",{class:"list-item-column"},[(0,o.Lk)("div",{class:"title-request"},"Dinguerie"),(0,o.Lk)("div",{class:"title-message"}," C'est la faute de Yann"),(0,o.Lk)("div",{class:"title-details"},"Tous les jours")],-1))])}var ya={name:"RequestListItem",components:{MDBBtn:y.al,MDBIcon:y.$u}};const La=(0,i.A)(ya,[["render",wa]]);var Ta=La,Da={name:"NotifListComponent",components:{NotifListItem:Ta}};const Ma=(0,i.A)(Da,[["render",ba]]);var Sa=Ma,Ea={name:"NotificationView",components:{NotifListComponent:Sa,RightBarComponent:A,NavBarComponent:D}};const Fa=(0,i.A)(Ea,[["render",ga]]);var Ba=Fa;const _a={class:"container-grid"},Ia={class:"main-content"},Aa={class:"body-row"},Ua={class:"right-bar"};function Oa(e,t,a,s,n,r){const i=(0,o.g2)("RequestFormComponent"),l=(0,o.g2)("RequestListComponent"),d=(0,o.g2)("RightBarComponent"),c=(0,o.g2)("NavBarComponent");return(0,o.uX)(),(0,o.CE)(o.FK,null,[t[0]||(t[0]=(0,o.Lk)("h2",{class:"title"}," Mes demandes ",-1)),(0,o.Lk)("div",_a,[(0,o.Lk)("div",Ia,[(0,o.Lk)("div",Aa,[(0,o.bF)(i),(0,o.bF)(l,{class:"request-list"})])]),(0,o.Lk)("section",Ua,[(0,o.bF)(d)]),(0,o.bF)(c)])],64)}const xa={class:"box-form"},Va={class:"form-container"},Xa={class:"date-picker-container"},Na={class:"date-picker-container"},Ra={class:"comment-section"},ja={class:"submit-section"};function Pa(e,t,a,n,r,i){const l=(0,o.g2)("MDBDropdownToggle"),d=(0,o.g2)("MDBDropdownItem"),c=(0,o.g2)("MDBDropdownMenu"),u=(0,o.g2)("MDBDropdown"),m=(0,o.g2)("MDBTextarea"),p=(0,o.g2)("MDBBtn");return(0,o.uX)(),(0,o.CE)("div",xa,[t[21]||(t[21]=(0,o.Lk)("div",{class:"title-form"},"Faire une demande",-1)),(0,o.Lk)("div",Va,[(0,o.bF)(u,{modelValue:r.dropdown1,"onUpdate:modelValue":t[1]||(t[1]=e=>r.dropdown1=e),class:"dropdown-container"},{default:(0,o.k6)((()=>[t[11]||(t[11]=(0,o.Lk)("div",{class:"label"},"Type de demande",-1)),(0,o.bF)(l,{onClick:t[0]||(t[0]=e=>r.dropdown1=!r.dropdown1),color:"light",class:"dropdown-button"},{default:(0,o.k6)((()=>t[7]||(t[7]=[(0,o.eW)(" Congés payées ")]))),_:1}),(0,o.bF)(c,{"aria-labelledby":"dropdownMenuButton"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{href:"#"},{default:(0,o.k6)((()=>t[8]||(t[8]=[(0,o.eW)("Congés payées")]))),_:1}),(0,o.bF)(d,{href:"#"},{default:(0,o.k6)((()=>t[9]||(t[9]=[(0,o.eW)("RTT")]))),_:1}),(0,o.bF)(d,{href:"#"},{default:(0,o.k6)((()=>t[10]||(t[10]=[(0,o.eW)("Arrêt maladie")]))),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(u,{modelValue:r.dropdown2,"onUpdate:modelValue":t[3]||(t[3]=e=>r.dropdown2=e)},{default:(0,o.k6)((()=>[t[16]||(t[16]=(0,o.Lk)("div",{class:"label"},"Motif",-1)),(0,o.bF)(l,{onClick:t[2]||(t[2]=e=>r.dropdown2=!r.dropdown2),color:"light",class:"dropdown-button"},{default:(0,o.k6)((()=>t[12]||(t[12]=[(0,o.eW)(" Vancances ")]))),_:1}),(0,o.bF)(c,{"aria-labelledby":"dropdownMenuButton"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{href:"#"},{default:(0,o.k6)((()=>t[13]||(t[13]=[(0,o.eW)("Congés payés")]))),_:1}),(0,o.bF)(d,{href:"#"},{default:(0,o.k6)((()=>t[14]||(t[14]=[(0,o.eW)("RTT")]))),_:1}),(0,o.bF)(d,{href:"#"},{default:(0,o.k6)((()=>t[15]||(t[15]=[(0,o.eW)("Arrêt maladie")]))),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Lk)("div",Xa,[t[17]||(t[17]=(0,o.Lk)("label",{class:"date-picker-label",for:"date-input1"},"Du :",-1)),(0,o.bo)((0,o.Lk)("input",{class:"date-picker-input",type:"date",id:"date-input1","onUpdate:modelValue":t[4]||(t[4]=e=>r.selectedStartDate=e)},null,512),[[s.Jo,r.selectedStartDate]])]),(0,o.Lk)("div",Na,[t[18]||(t[18]=(0,o.Lk)("label",{class:"date-picker-label",for:"date-input2"},"Au :",-1)),(0,o.bo)((0,o.Lk)("input",{class:"date-picker-input",type:"date",id:"date-input2","onUpdate:modelValue":t[5]||(t[5]=e=>r.selectedEndDate=e)},null,512),[[s.Jo,r.selectedEndDate]])]),(0,o.Lk)("div",Ra,[t[19]||(t[19]=(0,o.Lk)("div",{class:"label"},"Commentaire",-1)),(0,o.bF)(m,{rows:"4",modelValue:r.textareaValue,"onUpdate:modelValue":t[6]||(t[6]=e=>r.textareaValue=e)},null,8,["modelValue"])]),(0,o.Lk)("div",ja,[(0,o.bF)(p,{outline:"primary"},{default:(0,o.k6)((()=>t[20]||(t[20]=[(0,o.eW)("Envoyer")]))),_:1})])])])}var $a={name:"RequestFormComponent",components:{MDBDropdown:y.Zr,MDBDropdownItem:y.Oo,MDBDropdownMenu:y.IF,MDBDropdownToggle:y.Ho,MDBTextarea:y.QP,MDBBtn:y.al},data(){return{dropdown1:!1,dropdown2:!1,selectedStartDate:null,selectedEndDate:null,textareaValue:""}}};const qa=(0,i.A)($a,[["render",Pa]]);var Wa=qa;const Ja={class:"box-list"},za={class:"list-container"};function Ka(e,t,a,s,n,r){const i=(0,o.g2)("RequestListItem");return(0,o.uX)(),(0,o.CE)("div",Ja,[t[1]||(t[1]=(0,o.Lk)("div",null,"Vos messages",-1)),(0,o.Lk)("div",za,[(0,o.bF)(i),(0,o.bF)(i),(0,o.bF)(i),(0,o.bF)(i),(0,o.bF)(i),(0,o.bF)(i),(0,o.bF)(i),(0,o.bF)(i),t[0]||(t[0]=(0,o.Lk)("div",{style:{"border-top":"solid 1px #8d8d8d"}},null,-1))])])}const Qa={class:"list-item-row"},Ha={class:"list-item-circle"};function Ga(e,t,a,s,n,r){const i=(0,o.g2)("MDBIcon"),l=(0,o.g2)("MDBBtn");return(0,o.uX)(),(0,o.CE)("div",Qa,[(0,o.Lk)("div",Ha,[(0,o.bF)(l,{color:"light",floating:"",class:"profile-button"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:"user",style:{"font-size":"25px"}})])),_:1})]),t[0]||(t[0]=(0,o.Lk)("div",{class:"list-item-column"},[(0,o.Lk)("div",{class:"title-request"},"Batman"),(0,o.Lk)("div",{class:"title-message"}," Batman est en mission !!!"),(0,o.Lk)("div",{class:"title-details"},"Il y a 2 mois")],-1))])}var Ya={name:"RequestListItem",components:{MDBBtn:y.al,MDBIcon:y.$u}};const Za=(0,i.A)(Ya,[["render",Ga]]);var es=Za,ts={name:"RequestListComponent",components:{RequestListItem:es}};const as=(0,i.A)(ts,[["render",Ka]]);var ss=as,os={name:"RequestView",components:{RequestFormComponent:Wa,RequestListComponent:ss,RightBarComponent:A,NavBarComponent:D}};const ns=(0,i.A)(os,[["render",Oa]]);var rs=ns;function is(e,t,a,s,n,r){const i=(0,o.g2)("LoginComponent");return(0,o.uX)(),(0,o.Wv)(i)}var ls=a.p+"img/logohometimemanager.2f1b83e2.jpg";const ds={class:"login-container"};function cs(e,t,a,n,r,i){return(0,o.uX)(),(0,o.CE)("div",ds,[t[4]||(t[4]=(0,o.Lk)("img",{src:ls,alt:"Logo",class:"logo"},null,-1)),(0,o.Lk)("form",{onSubmit:t[2]||(t[2]=(0,s.D$)(((...e)=>i.loginUser&&i.loginUser(...e)),["prevent"])),class:"login-form"},[(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>r.email=e),placeholder:"Email",required:"",class:"input-field"},null,512),[[s.Jo,r.email]]),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),placeholder:"Password",required:"",class:"input-field"},null,512),[[s.Jo,r.password]]),t[3]||(t[3]=(0,o.Lk)("button",{type:"submit",class:"sign-in-button"},"Se Connecter",-1))],32)])}var us={data(){return{email:"",password:""}},methods:{async loginUser(){try{const e=await fetch("/api/users/sign_in",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})});if(e.ok){const t=await e.json();localStorage.setItem("token",t.token),localStorage.setItem("user",JSON.stringify(t.user)),this.$router.push("/home")}else console.error("Erreur de connexion:",e.statusText),alert("Erreur de connexion. Veuillez vérifier vos identifiants.")}catch(e){console.error("Erreur lors de la connexion:",e.message),alert("Une erreur est survenue. Veuillez réessayer.")}}}};const ms=(0,i.A)(us,[["render",cs],["__scopeId","data-v-d63e3c24"]]);var ps=ms,hs={name:"LoginView",components:{LoginComponent:ps},methods:{goToSignup(){this.$router.push("/sign_up")}}};const gs=(0,i.A)(hs,[["render",is]]);var fs=gs;const ks={class:"container-grid"},bs={class:"main-content"},vs={class:"right-bar"};function Cs(e,t,a,s,n,r){const i=(0,o.g2)("SignupComponent"),l=(0,o.g2)("RightBarComponent"),d=(0,o.g2)("AlerteBatmanComponent"),c=(0,o.g2)("NavBarComponent");return(0,o.uX)(),(0,o.CE)("div",ks,[(0,o.Lk)("div",bs,[(0,o.bF)(i)]),(0,o.Lk)("section",vs,[(0,o.bF)(l)]),(0,o.bF)(d,{ref:"alerte"},null,512),(0,o.bF)(c)])}const ws=["value"],ys={key:0,class:"mt-3"},Ls=["value"],Ts={key:0,class:"mt-3"};function Ds(e,t,a,n,r,i){const l=(0,o.g2)("MDBCol"),d=(0,o.g2)("MDBRow");return(0,o.uX)(),(0,o.Wv)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(l,null,{default:(0,o.k6)((()=>[t[12]||(t[12]=(0,o.Lk)("h2",null,"Create a user",-1)),(0,o.Lk)("form",{onSubmit:t[6]||(t[6]=(0,s.D$)(((...e)=>i.createUser&&i.createUser(...e)),["prevent"])),class:"signup-form"},[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>r.lastname=e),placeholder:"Lastname",required:"",class:"input-field"},null,512),[[s.Jo,r.lastname]]),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>r.firstname=e),placeholder:"Firstname",required:"",class:"input-field"},null,512),[[s.Jo,r.firstname]]),(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=e=>r.email=e),placeholder:"Email",required:"",class:"input-field"},null,512),[[s.Jo,r.email]]),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.role_id=e),class:"role"},[t[10]||(t[10]=(0,o.Lk)("option",{value:"",disabled:""},"Choisir un rôle",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.roles,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id,value:e.id},(0,W.v_)(e.name),9,ws)))),128))],512),[[s.u1,r.role_id]]),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":t[4]||(t[4]=e=>r.password=e),placeholder:"Password",class:"input-field"},null,512),[[s.Jo,r.password]]),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":t[5]||(t[5]=e=>r.confirmPassword=e),placeholder:"Confirm Password",class:"input-field"},null,512),[[s.Jo,r.confirmPassword]]),t[11]||(t[11]=(0,o.Lk)("button",{type:"submit",class:"sign-up-button"},"Create",-1))],32),r.message?((0,o.uX)(),(0,o.CE)("div",ys,(0,W.v_)(r.message),1)):(0,o.Q3)("",!0)])),_:1}),(0,o.bF)(l,null,{default:(0,o.k6)((()=>[t[15]||(t[15]=(0,o.Lk)("h2",null,"Delete a user",-1)),(0,o.Lk)("form",{onSubmit:t[9]||(t[9]=(0,s.D$)(((...e)=>i.deleteUser&&i.deleteUser(...e)),["prevent"])),class:"signup-form"},[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>r.selectedUserId=e),onChange:t[8]||(t[8]=(...e)=>i.selectUser&&i.selectUser(...e)),class:"form-select form-select-lg mb-3 mt-3 col-6"},[t[13]||(t[13]=(0,o.Lk)("option",{disabled:"",value:""},"Select a user",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.users,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id,value:e.id},(0,W.v_)(e.firstname)+" "+(0,W.v_)(e.lastname),9,Ls)))),128))],544),[[s.u1,r.selectedUserId]]),t[14]||(t[14]=(0,o.Lk)("button",{type:"submit",class:"delete-button"},"Delete",-1))],32),r.messageDeleted?((0,o.uX)(),(0,o.CE)("div",Ts,(0,W.v_)(r.messageDeleted),1)):(0,o.Q3)("",!0)])),_:1})])),_:1})}var Ms={components:{MDBRow:y.gU,MDBCol:y.m6},data(){return{lastname:"",firstname:"",email:"",role_id:"",password:"",confirmPassword:"",message:"",users:[],selectedUserId:"",messageDeleted:"",roles:[{id:1,name:"Admin"},{id:2,name:"Manager"},{id:3,name:"Employée"}]}},mounted(){this.getUsers()},methods:{selectUser(){const e=this.users.find((e=>e.id===this.selectedUserId));this.username=e.username,this.email=e.email},async createUser(){console.log(JSON.stringify({user:{firstname:this.firstname,lastname:this.lastname,password:this.password,role_id:this.role_id,email:this.email}}));const e=document.cookie.split("c-xsrf-token=")[1]?.split(";")[0];try{const t=await fetch("/api/users/sign_up",{method:"POST",headers:{"Content-Type":"application/json","X-XSRF-TOKEN":e,Authorization:"Bearer "+localStorage.getItem("token")},credentials:"include",body:JSON.stringify({user:{firstname:this.firstname,lastname:this.lastname,password:this.password,role_id:this.role_id,email:this.email}})});t.ok?(this.message="User created successfully!",this.username="",this.email="",this.messageDeleted="",this.messageUpdated=""):this.message="Error creating user: "+t.statusText}catch(t){this.message="Error creating user: "+t.message}},async getUsers(){const e=document.cookie.split("c-xsrf-token=")[1]?.split(";")[0];try{const t=await fetch("/api/users",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token"),"X-XSRF-TOKEN":e},credentials:"include"});this.users=(await t.json()).data}catch(t){this.message="Error getting users: "+t.message}},async deleteUser(){const e=document.cookie.split("c-xsrf-token=")[1]?.split(";")[0];try{const t=await fetch("/api/users/"+this.selectedUserId,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token"),"X-XSRF-TOKEN":e},credentials:"include"});t.ok?(this.messageDeleted="User deleted successfully!",this.message="",this.messageUpdated="",await this.getUsers()):this.messageDeleted="Error deleting user: "+t.statusText}catch(t){this.messageDeleted="Error deleting user: "+t.message}}}};const Ss=(0,i.A)(Ms,[["render",Ds],["__scopeId","data-v-4cc8d322"]]);var Es=Ss,Fs={name:"SignupView",components:{SignupComponent:Es,RightBarComponent:A,AlerteBatmanComponent:v,NavBarComponent:D},methods:{goToSignin(){this.$router.push("/sign_in")}}};const Bs=(0,i.A)(Fs,[["render",Cs]]);var _s=Bs;const Is=[{path:"/",name:"LoginView",component:fs},{path:"/home",name:"HomeView",component:ce},{path:"/profile",name:"ProfileView",component:Ie},{path:"/help",name:"HelpView",component:qe},{path:"/dashboard",name:"ManagerDashboardView",component:Ut},{path:"/teams",name:"ManagerTeamsView",component:ua},{path:"/notif",name:"NotifView",component:Ba},{path:"/request",name:"RequestView",component:rs},{path:"/sign_in",name:"SigninView",component:fs},{path:"/sign_up",name:"SignupView",component:_s}],As=(0,c.aE)({history:(0,c.LA)(),routes:Is});As.beforeEach(((e,t,a)=>{const s=["/sign_in","/sign_up"],o=!s.includes(e.path),n=localStorage.getItem("user");if(o&&!n)return a("/sign_in");a()}));var Us=As;(0,s.Ef)(d).use(Us).mount("#app")}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,o,n){if(!s){var r=1/0;for(c=0;c<e.length;c++){s=e[c][0],o=e[c][1],n=e[c][2];for(var i=!0,l=0;l<s.length;l++)(!1&n||r>=n)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(i=!1,n<r&&(r=n));if(i){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[s,o,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,n,r=s[0],i=s[1],l=s[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(l)var c=l(a)}for(t&&t(s);d<r.length;d++)n=r[d],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},s=self["webpackChunkgui"]=self["webpackChunkgui"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(4120)}));s=a.O(s)})();
//# sourceMappingURL=app.6921706a.js.map